#N canvas 1076 107 541 457 10;
#X obj 143 49 inlet;
#X obj 240 346 outlet~;
#X obj 341 87 inlet;
#X obj 363 140 f \$1;
#X obj 363 117 loadbang;
#X text 293 69 smoothing time constant;
#X text 126 31 control value;
#X obj 240 299 lop~;
#X obj 341 176 expr 2000/(3.14159*max($f1 \, 1));
#X text 30 415 smooth a control value \, with a time constant given
in ms;
#X text 352 195 constant is given as 4tau \, so the value should reach
within 1.2% of the target value within the given time, f 30;
#X obj 143 248 vline~;
#X obj 171 76 loadbang;
#X obj 208 122 samplerate~;
#X obj 208 146 / 1000;
#X obj 171 175 /;
#X obj 171 98 t b b;
#X text 202 170 block time (ms);
#X obj 143 219 pack f f f;
#X obj 171 134 64;
#X text 286 281 then we add an exponential lag for a more analog-sounding
smoothness, f 25;
#X text 36 102 first we schedule the message for 1 block in the future
to eliminate jitter \, and also add a 1-block ramp so we're not starting
with discontinuities, f 16;
#X connect 0 0 18 0;
#X connect 2 0 8 0;
#X connect 3 0 8 0;
#X connect 4 0 3 0;
#X connect 7 0 1 0;
#X connect 8 0 7 1;
#X connect 11 0 7 0;
#X connect 12 0 16 0;
#X connect 13 0 14 0;
#X connect 14 0 15 1;
#X connect 15 0 18 1;
#X connect 15 0 18 2;
#X connect 16 0 19 0;
#X connect 16 1 13 0;
#X connect 18 0 11 0;
#X connect 19 0 15 0;
